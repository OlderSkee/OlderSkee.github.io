<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />

    <title>Tiny Fish - Mobile</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        html{
            overflow: hidden;
        }
        html,body{
            width: 100%;
            height: 100%;
        }
        .all-bg{

            width: 100%;
            height: 100%;
            margin: 0 auto;
            position: relative;

        }
        #allcanvas{
            width: 100%;
            height: 100%;
            position: relative;

        }
        #canvas1{
            width: 100%;
            height: 100%;

            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
        #canvas2{
            width: 100%;
            height: 100%;

            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;

        }
        #beginBox{
            position: absolute;
            left: 0;
            top: 0;
            z-index: 2;
        }
        #btn1,#btn2{
            color: #E4E4E4;;
            border: 0 none;
            background-color: #06335C;
            position: absolute;
            left: 50%;
            top: 50%;
            margin-top: 40px;
            margin-left: -25px;
            font-family: "microsoft yahei";
            z-index: 2;
        }
        #btn2{
            background-color: #09508E;
            margin-left: -35px;
            margin-top: 50px;
        }
        #black{
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            background-color: #000;
            z-index: 3;
            text-align: center;
            color: #ccc;
            font: 400 50px/50px "microsoft yahei";
            padding-top: 50%;
        }
    </style>
</head>
<body>
<div class="all-bg">
    <div id="allcanvas">
        <canvas id="canvas1"></canvas>
        <canvas id="canvas2"></canvas>
    </div>
    <div id="beginBox">
        <img id="beginPic" src="src/cover.png"/>
        <button id="btn1"> &nbsp;Start&nbsp;</button>
    </div>
    <button id="btn2" style="display: none;">Play Again</button>
    <div id="black">
        请旋转屏幕
    </div>
</div>
<script>
    var orientation=0;
    //转屏事件，内部功能可以自定义
    function screenOrientationEvent(){

            if (orientation == 0) {
                var black = document.getElementById("black");
                black.style.display = "block";
            }
            else {
                var black = document.getElementById("black");
                begin();
                black.innerHTML = "加载中……"
                setTimeout(function () {
                    black.style.display = "none";
                },5000)
            }
    }

    var innerWidthTmp = window.innerWidth;
    //横竖屏事件监听方法
    function screenOrientationListener(){
        try{
            var iw = window.innerWidth;
            //屏幕方向改变处理
            if(iw != innerWidthTmp){
                if(iw>window.innerHeight)orientation = 90;
                else orientation = 0;
                //调用转屏事件
                screenOrientationEvent();
                innerWidthTmp = iw;
            }
        } catch(e){alert(e);};
        //间隔固定事件检查是否转屏，默认500毫秒
        setTimeout("screenOrientationListener()",500);
    }
    //启动横竖屏事件监听
        screenOrientationListener();
</script>
<script src="js/begin.js"></script>
<script src="js/main.js"></script>
<script src="js/commonFunctions.js"></script>
<script src="js/background.js"></script>
<script src="js/ane.js"></script>
<script src="js/fruit.js"></script>
<script src="js/mom.js"></script>
<script src="js/collision.js"></script>
<script src="js/baby.js"></script>
<script src="js/data.js"></script>
<script src="js/wave.js"></script>
<script src="js/halo.js"></script>
<script src="js/dust.js"></script>
<script src="js/fastclick.js"></script>
</body>
</html>